#pragma once
#include <iostream>
#include <math.h>
using namespace std;

//DaThuc.h

class DaThuc
{
private:
	int n;
	int* Arr;
public:
	DaThuc();
	void Nhap();
	void Xuat();
	void Tinh_Gia_Tri();
	void Tong(DaThuc);
	void Hieu(DaThuc);


};

//DaThuc.cpp

DaThuc::DaThuc()
{
	n = 0;
	Arr = new int[100];
	Arr[0] = 0;
}

void DaThuc::Nhap()
{
	cout << "Nhap bac cua da thuc: ";
	cin >> n;
	Arr = new int[100];
	for (int i = 0; i <= n; i++) {
		cout << "Nhap he so cua x^" << i << ": ";
		cin >> Arr[i];

	}
}

void DaThuc::Xuat()
{
	for (int i = n; i >= 1; i--) {
		cout << Arr[i] << "x^" << i << " ";
		if (Arr[i - 1] >= 0)
			cout << " + ";
	}
	cout << Arr[0] << endl;
}

void DaThuc::Tinh_Gia_Tri()
{
	int S = 0;
	n = this->n;
	int x;
	cout << "Nhap gia tri x: ";
	cin >> x;
	for (int i = 0; i <= n; i++)
	{

		S += Arr[i] * pow(x, i);;
	}
	cout << S;
}

void DaThuc::Tong(DaThuc b)
{
	DaThuc k;
	if (this->n == b.n)
	{
		k.n = this->n;
		k.Arr = new int[n + 1];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] = this->Arr[i];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] += b.Arr[i];

	}
	else if (this->n > b.n)
	{
		k.n = this->n;
		k.Arr = new int[n + 1];
		for (int i = 0; i <= this->n; i++)
			k.Arr[i] = this->Arr[i];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] += b.Arr[i];
	}
	else
	{
		k.n = b.n;
		k.Arr = new int[n + 1];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] = b.Arr[i];
		for (int i = this->n; i >= 0; i--)
			k.Arr[i] += this->Arr[i];
	}
	k.Xuat();
}

void DaThuc::Hieu(DaThuc b)
{
	DaThuc k;
	if (this->n == b.n)
	{
		k.n = this->n;
		k.Arr = new int[n + 1];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] = this->Arr[i];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] -= b.Arr[i];

	}
	else if (this->n > b.n)
	{
		k.n = this->n;
		k.Arr = new int[n + 1];
		for (int i = 0; i <= this->n; i++)
			k.Arr[i] = this->Arr[i];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] -= b.Arr[i];
	}
	else
	{
		k.n = b.n;
		k.Arr = new int[n + 1];
		for (int i = 0; i <= b.n; i++)
			k.Arr[i] = b.Arr[i];
		for (int i = this->n; i >= 0; i--)
			k.Arr[i] -= this->Arr[i];
	}
	k.Xuat();
}

//Source.cpp

int main()
{
	DaThuc a, b;
	a.Nhap();
	b.Nhap();
	a.Xuat();
	b.Xuat();
	cout << "\n";
	a.Tinh_Gia_Tri();
	cout << "\n";
	a.Tong(b);
	cout << "\n";
	a.Hieu(b);

}

